var ViewAtom;import{Component}from"/components/component.min.js";import{View}from"/scripts/view.min.js";ViewAtom=class ViewAtom extends Component{postConnectedCallback(){var node;node=this;this.defaultRoute=this.getAttribute("default-route");this.view=new View(node);this.view.onError=this.onError.bind(this);if(document.viewAtoms==null){document.viewAtoms=[]}document.viewAtoms.push(node);return this.update(document.location.pathname)}onError(pageFilePath,error){if(pageFilePath!==this.routeToPageFilePath(this.defaultRoute)){return document.router.navigate(this.defaultRoute)}else{return console.log("Redirecting on the default page has failed.")}}routeToPageFilePath(route){var file,pageFilePath,pageName,prefix;prefix="/components/pages";pageName=route.slice(route.lastIndexOf("/")+1);file="p-"+pageName+".min.js";return pageFilePath=prefix+route+"/"+file}update(route){return this.view.update(this.routeToPageFilePath(route))}};export var tag="a-view";customElements.define(tag,ViewAtom);